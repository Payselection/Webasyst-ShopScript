# Плагин Payselection

Плагин платёжной системы Payselection для [Вебасист](https://www.webasyst.com/).
PaySelection - универсальное платежное решение для онлайн-бизнеса.

## Описание

Плагин позволяет оплачивать товары и услуги с помощью платёжной системы [Payselection](https://payselection.com/).
Возможности:

- Работа через виджет
- Работа через страницу оплаты
- Одностадийная / двухстадийная оплата
- Автоматическая установка флага «Оплачено» при прохождении оплаты
- Передача информации для печати чеков (54-ФЗ)

### Налогообложение

Плагин не учитывает настройку налогообложения по отдельным товарам.

## Установка

Плагин можно установить с помощью Инсталера со [страницы плагина](https://www.webasyst.ru/store/plugin/payment/payselection/) либо вручную из этого репозитория.

### Автоматическая установка

Автоматическая установка описана в [инструкции](https://support.webasyst.ru/8620/webasyst-store-install-product/) к системе Вебасист.

### Ручная установка

* Распакуйте архив на своём сервере в папку `\wa-plugins\payment`
> Например, если магазин на вашем сервере установлен в папке `\var\www\shop.yourdomain.com\public`, 
> то плагин должен быть распакован в папку `\var\www\shop.yourdomain.com\public\wa-plugins\payment`
>
> Для проверки, полный путь к основному файлу плагина в примере выше будет:
> `\var\www\shop.yourdomain.com\public\wa-plugins\payment\payselection\lib\payselectionPayment.class.php`
* Добавьте плагин payselection в настройках вашего магазина как способ оплаты: *Настройки* → *Оплата* → *Добавить способ оплаты* → *payselection*
* Настройте плагин, нажав в списке на пункт *«Конфигурация»*.

### Настройка плагина

Для корректной работы плагина нужно указать несколько опций.
* Идентификатор ТСП
* Публичный ключ
* Секретный ключ
* Тип платежа
* Тип кнопки
* Выбрать Валюту - Рубль
* Текст на кнопке
* Текст переадресации на форму оплаты
* Включить фискализация при необходимости и настроить ее.

### Данные тестовой карты:

Номер карты 4111111111111111
Месяц: если <=6 то успешно, если >=7 то отказ
Год: любой больше либо равно текущему
CVC 123

# Контакты
Вопросы и предложения пишите в [issues на гитхабе](https://github.com/Payselection/Webasyst-ShopScript/issues).

# Changelog
Все значимые изменения плагина перечислены здесь.

## [1.0.1] - 2022-12-22
  - Правки для логирования webhook запросов

## [1.0.0] - 2022-12-14
  - Первый релиз